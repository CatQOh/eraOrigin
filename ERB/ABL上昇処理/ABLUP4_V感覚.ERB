@ABLUP4
SIF ABL:‚u´o == 10 && !TALENT:ƒƒ~ƒbƒgƒo[ƒXƒg
	RETURN 0
CALL NEED_JUEL_‚u´o
CALL CHECK_JUEL_‚u´o
IF RESULT
	CALL NEED_JUEL_‚u´o
	REPEAT 15
		JUEL:COUNT -= ABLUP:COUNT
	REND
	ABL:‚u´o++
ENDIF

@NEED_JUEL_‚u´o
SELECTCASE ABL:‚u´o
	CASE 0
		ABLUP:GETPALAM("‰ץ‚u") = 1
		ABLUPEXP:GETEXP("‚uo±") = 2
	CASE 1
		ABLUP:GETPALAM("‰ץ‚u") = 20
		ABLUPEXP:GETEXP("‚uo±") = 10
	CASE 2
		ABLUP:GETPALAM("‰ץ‚u") = 400
		ABLUPEXP:GETEXP("‚uo±") = 30
	CASE 3
		ABLUP:GETPALAM("‰ץ‚u") = 5000
		ABLUPEXP:GETEXP("‚uo±") = 75
	CASE 4
		ABLUP:GETPALAM("‰ץ‚u") = 15000
		ABLUPEXP:GETEXP("‚uo±") = 150
	CASE 5
		ABLUP:GETPALAM("‰ץ‚u") = 30000
		ABLUPEXP:GETEXP("‚uo±") = 230
	CASE 6
		ABLUP:GETPALAM("‰ץ‚u") = 40000
		ABLUPEXP:GETEXP("‚uo±") = 270
	CASE 7
		ABLUP:GETPALAM("‰ץ‚u") = 50000
		ABLUPEXP:GETEXP("‚uo±") = 360
	CASE 8
		ABLUP:GETPALAM("‰ץ‚u") = 60000
		ABLUPEXP:GETEXP("‚uo±") = 420
	CASE 9
		ABLUP:GETPALAM("‰ץ‚u") = 70000
		ABLUPEXP:GETEXP("‚uo±") = 500
	CASE IS >= 10
		LOCAL = ABL:‚u´o*ABL:‚u´o
		ABLUP:GETPALAM("‰ץ‚u") = 800 * LOCAL
		ABLUPEXP:GETEXP("‚uo±") = 6 * LOCAL
ENDSELECT

;׳—‘f¿‚ֵ‚ּ•ג³
;ˆת—
IF TALENT:ˆת—
	TIMES ABLUP:GETPALAM("‰ץ‚u") , 0.80
	TIMES ABLUPEXP:GETEXP("‚uo±") , 0.80
ENDIF
;©•w
IF TALENT:©•w
	TIMES ABLUP:GETPALAM("‰ץ‚u") , 0.50
	TIMES ABLUPEXP:GETEXP("‚uo±") , 0.50
ENDIF
;ˆתהS
IF TALENT:ˆתהS
	TIMES ABLUP:GETPALAM("‰ץ‚u") , 0.80
	TIMES ABLUPEXP:GETEXP("‚uo±") , 0.80
ENDIF

@CHECK_JUEL_‚u´o
;‰ץ‚u‚ּלA‚uo±‚×•K—v
SIF JUEL:‰ץ‚u >= ABLUP:GETPALAM("‰ץ‚u") && EXP:‚uo± >= ABLUPEXP:GETEXP("‚uo±")
	RETURN 1

;ד‹L‚ּנ‚נ–‚½‚¹‚ָ‚©‚ֱ‚½‚חד‚°‚ח‚ך‚ָ‚¢
RETURN 0

@ABLUP_MESSAGE_‚u´o
SIF JUEL:‰ץ‚u < ABLUP:GETPALAM("‰ץ‚u")
	SETCOLOR 120, 120, 120
PRINTFORM [‰ץ‚u‚ּל~{ABLUP:GETPALAM("‰ץ‚u")}]
RESETCOLOR

SIF EXP:‚uo± < ABLUPEXP:GETEXP("‚uo±")
	SETCOLOR 120, 120, 120
PRINTFORM [‚uo±{ABLUPEXP:GETEXP("‚uo±")}ˆָד]
RESETCOLOR

